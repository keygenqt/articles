# Знакомство с Aurora OS

Здравствуйте! Я разработчик ~10 летним стажем. Работал с web backend-ом, frontend-ом, android, ios. Последние 2 года работал с Jetpack Compose. Наконец-то я нашел время написать приложение для любопытной мобильной платформы. Расскажу с чем предстоит столкнуться желающему разобраться в Aurora OS.

### Мобильная операционная система

Первое, что узнаешь об Aurora - это бывшая Sailfish OS. Многое оттуда все еще актуально. Но далеко не все. Aurora пошла дальше в свою сторону. Главное их отличие это защищенность. Sailfish OS создавалась (ну по крайней мере пытается) для массового потребителя в то время как Aurora затачивается под корпоративного клиента. Aurora имеет [сертификацию](https://auroraos.ru/certificates) УД4 - 4й уровень доверия по безопасности информации ФСТЭК России.

Второй этап знакомства - Qt. Нужно будет работать с фреймворком для разработки кроссплатформенного программного обеспечения на языке программирования C++. Но не спешите расстраиваться услышав о C++. Qt это не чистый C++, доработанный. UI пишется на Qt Quick который похож на уже ставший привычным Android разработчикам Jetpack Compose.

Но все же это не Jetpack Compose и не Swift UI и даже не полноценный Qt. Используемая версия Qt в Авроре `5.6.3`, а Qt Quick `2.0`. Также доступны компоненты интерфейса для Aurora OS в библиотеке поставляемой с Aurora SDK `Sailfish.Silica 1.0`.

### Начало работы

Для начала работы вам предстоит [скачать](https://community.omprussia.ru/documentation/software_development/sdk/downloads.html) Aurora SDK. В комплекте идет Aurora IDE - вы увидите знакомый, доработанный, интерфейс Qt Creator. Для эмулятора вам понадобится VirtualBox. Также вместе с SDK в поставке идет Aurora Build Engine через который идет сборка приложений. Пока поддержки Apple ARM нет, но насколько знаю, работы на этот счет ведутся.

<div class="PrettyImage">
  <img src="https://api.keygenqt.com/api/ps/file/7df4d0c5-c47e-4a6d-9665-ff768889c2ba.png"/>
</div>

И так вы поставили Aurora SDK. В Aurora IDE в разделе Examples вы найдете (не забудьте возле поиска выбрать раздел с Aurora OS, по умолчанию у меня он был не выбран) примеры приложений. Но к сожалению там нет главного приложения - Components. Почему? - вопрос не ко мне, думаю проблемы с лицензиями. Но вы можете его найти в Sailfish OS. Там не все актуально, но на данный момент приложение собирается и работает. Все что я там находил отлично работало для меня и на Aurora OS.

<div class="PrettyImage">
  <img src="https://api.keygenqt.com/api/ps/file/ee1efe42-cbfb-41d7-aead-23a66a7377d5.png"/>
</div>

В Qt Qml встроена поддержка JS. Приложения можно писать вообще без использования С++ ;). С версии Qt `5.12` появилась поддержка стандарта `ES6`, в Aurora можно рассчитывать на `ES5`. Также есть ограничения, подробнее можно посмотреть [здесь](https://doc.qt.io/qt-5/qtqml-javascript-hostenvironment.html).

### Компоненты

Aurora OS имеет самобытный интерфейс. Нет привычных диалогов, bottom bar-а. Сверху расположено меню которое мешает сделать "Swipe to refresh". Разбираться в OS нужно с логики работы интерфейса. Подходить творчески. :) В документации есть [раздел](https://community.omprussia.ru/documentation/software_development/reference/silica/aurora-os-application-pitfalls.html) где отмечены основные ошибки которые делают разработчики.

Qt Quick позволяет дописать чего нет. Компонентов не густо. Например, табов нет в стандартной поставке, а либ написанных сторонними разработчиками я не находил. Можно поискать их по Sailfish OS. Ну или экспроприировать из открытых приложений таких как [Shop 7 in 1](https://github.com/keygenqt/km-shop#aurora-app).

Нужно внимательно смотреть документацию и искать аналоги. Но я в своем приложении реализовал даже кастомные кнопки - мне не понравились отступы и не хватало функционала. Но вот `Bottom Sheet` я нашел - меня вполне устроил `DockedPanel`.

### Документация

Вам предстоит иметь дело с Qt. Чаще всего вам предстоит гуглить запросы по нему. При поиске решений обращайте внимание на версии Qt в ответах. У Aurora OS также есть документация по своим доработкам, компонентам. Достаточно не плохая, но все же это не `Documentation | Android Developers`. Ресурсы не те. Будьте готовы к тому что информацию нужно будет искать везде. Chat GPT вам в помощь. :)

### Впечатления

После работы с Jetpack Compose и SwiftUI работать с Qml вполне приемлемо. Есть вещи которые не очень удобны. Например, чтобы растянуть элемент - нужно посчитать ширину… самому. Чтобы покрасить блок - добавить отдельный компонент `Rectangle`. Добавить радиус можно только на весь блок и то не во всех компонентах.

В то же время все основное, что нужно, можно реализовать. Да, придется пописать свои компоненты, но и в Jetpack Compose без кастомизации не обойдешься - например дизайнер решил что поля ввода должны быть вот такими - и пиши с нуля их…

Впечатления смешанные - с одной стороны Qml вполне годен для реализации многих вещей типа “я дизайнер я так вижу”. С другой недостаток компонентов, небольшая их функциональность, и непривычные подходы в отличие от мобильных платформ таких как Android и iOS.

Но самое главное - это работает, и писать приложения можно. Можно даже достаточно быстро при должной сноровке…

### Полезные ссылки

Для разработки вам понадобятся первым делом элементы интерфейса.

[Справочная документация Silica](https://community.omprussia.ru/documentation/software_development/reference/silica/silica-reference.html)

Куда без иконок? Но я бы рекомендовал сразу же юзать например материал иконки, сейчас что есть это раритет с Sailfish OS, наследие… Когда-нибудь их обновят, но пока что имеем.

[Aurora OS Значки](https://community.omprussia.ru/documentation/software_development/reference/icons.html)

Мое open-source приложение использующее Kotlin Multiplatform JS. Пример реализации приложения без C++. Он там есть лишь формально, в принципе, его можно легко вообще убрать.

[Shop 7 in 1](https://github.com/keygenqt/km-shop#aurora-app)

![image-preview.png](https://api.keygenqt.com/api/ps/file/e5d96c41-46df-4958-8a95-351bb5e2cb5e.png)

Чат по Aurora OS, очень милый и домашний, присоединяйтесь, YW.

[Telegram](https://t.me/aurora_devs)